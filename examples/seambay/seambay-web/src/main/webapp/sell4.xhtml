<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:s="http://jboss.org/schema/seam/taglib"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html">

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>seamBay</title>
    <link href="style/home.css" rel="stylesheet" type="text/css"/>
    <link href="style/common.css" rel="stylesheet" type="text/css"/>
    <link href="style/sell.css" rel="stylesheet" type="text/css"/>
  </head>

  <body>
    <div class="container">
      <ui:include src="header.xhtml"/>  
      
      <div class="banner"></div>
     
      <div class="content">
        <div class="sellHeader">
          Upload Pictures
        </div>

        <div class="sellSubHeader">
          Use this page to upload any images you want to include in your listing
        </div>
        
        <h:messages globalOnly="true"/>        
        
        <h:form enctype="multipart/form-data">
        
          <div class="formRow">
            <h:outputLabel for="picture">Select an image to upload</h:outputLabel>
            <s:fileUpload id="picture" data="#{auctionAction.imageData}" accept="image/png"
                          contentType="#{auctionAction.imageContentType}" />                  
            <div class="validationError"><h:message for="picture"/></div>        
          </div>
          
          <div class="navBar">
            <div class="navBarRight">
              <h:commandButton value="Upload Picture" action="#{auctionAction.uploadImage}"/>               
            </div>
            <br class="clear"/>            
          </div>

        </h:form>
        
        <hr class="thinLine"/>
        
        <ui:repeat value="#{auctionAction.images}" var="img">
          <div class="image">
            <s:graphicImage value="#{img.data}">
              <s:transformImageSize width="200" maintainRatio="true"/>
            </s:graphicImage>             
          </div>
          <hr class="thinLine"/>
        </ui:repeat>  

        <h:form id="sellForm">
                
          <div class="navBar">
            <div class="navBarLeft">
              <h:commandButton value="&lt; Previous" action="previous"/>
            </div>
            
            <div class="navBarRight">
              <h:commandButton id="next" value="Next >" action="next"/>
            </div>              
            
            <br class="clear"/>                          
          </div>

          <hr class="thinLine"/>

          <hr class="baseLine"/>

        </h:form>

      </div>

    </div>
       
  </body>
</html>
